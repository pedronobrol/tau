module M_count_to
use int.Int
use bool.Bool
use ref.Ref
use int.ComputerDivision

let count_to (n:int) : int =
  requires { n >= 0 }
  ensures  { result = n /\ result >= 0 }
  let c = ref 0 in
  let i = ref 0 in
  while (!i < n) do
    invariant { 0 <= !i }
    invariant { !i <= n }
    invariant { !c = !i }
    variant { n - !i }
    c := (!c + 1);
    i := (!i + 1);
  done;
  !c

end