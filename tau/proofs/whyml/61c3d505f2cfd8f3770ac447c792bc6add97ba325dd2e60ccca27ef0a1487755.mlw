module M_multiply
use int.Int
use bool.Bool
use ref.Ref
use int.ComputerDivision

let multiply (x:int) (n:int) : int =
  requires { n >= 0 }
  ensures  { result = n * x }
  let result = ref 0 in
  let i = ref 0 in
  while (!i < n) do
    invariant { !result = x * !i }
    invariant { 0 <= !i }
    invariant { !i <= n }
    variant { n - !i }
    result := (!result + x);
    i := (!i + 1);
  done;
  !result

end